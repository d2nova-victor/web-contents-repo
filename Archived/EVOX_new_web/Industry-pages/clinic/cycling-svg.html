<style type="text/css">
.cycling-section{
  padding: 30px 0;
/*    background: #FAFAFA;*/
}
.cycling-tittle{
    max-width: 60%;
    margin: 0 auto;
}
.cycling-tittle>p{
    color: #5F6871;
    font-size: 16px;
}

  /**
 * 1. The `reverse` animation direction plays the animation backwards
 *    which makes it start at the stroke offset 100 which means displaying
 *    no stroke at all and animating it to the value defined in the SVG
 *    via the inline `stroke-dashoffset` attribute.
 * 2. Rotate by -90 degree to make the starting point of the
 *    stroke the top of the circle.
 * 3. Using CSS transforms on SVG elements is not supported by Internet Explorer
 *    and Edge, use the transform attribute directly on the SVG element as a
 * .  workaround (https://markus.oberlehner.net/blog/pure-css-animated-svg-circle-chart/#part-4-internet-explorer-strikes-back).
 */
.circle-chart__circle {
  animation: circle-chart-ready 2s reverse; /* 1  */
  transform: rotate(-90deg); /* 2, 3 */
  transform-origin: center; /* 4 */
}
.cycling-anima{
  animation: circle-chart-fill 2s reverse; /* 1  */
  transform: rotate(-90deg); /* 2, 3 */
  transform-origin: center; /* 4 */
}
.circle-chart{
  position: absolute;
}
/**
 * 1. Rotate by -90 degree to make the starting point of the
 *    stroke the top of the circle.
 * 2. Scaling mirrors the circle to make the stroke move right
 *    to mark a positive chart value.
 * 3. Using CSS transforms on SVG elements is not supported by Internet Explorer
 *    and Edge, use the transform attribute directly on the SVG element as a
 * .  workaround (https://markus.oberlehner.net/blog/pure-css-animated-svg-circle-chart/#part-4-internet-explorer-strikes-back).
 */

/*反向動畫*/
.circle-chart__circle--negative {
/*  transform: rotate(-90deg) scale(1,-1); /* 1, 2, 3 */*/
}

.circle-chart__info {
  width: 185px;
  height: 185px;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  animation: circle-chart-appear 2s forwards;
  opacity: 0;
  transform: translateY(0.3em);
}
.circle-chart__info >img{
  position: absolute;
}
.circle-chart__info >text{
  font-size: 60px;
  font-weight: bolder;
  order: 99;
  position: absolute;
  display: flex;
  align-items: center;
  justify-content: center;
}
.circle-chart__info >text>p{
  margin: 0;
  font-size: 45px;
}
@keyframes circle-chart-ready {
  to { stroke-dasharray: 100 0; }
}
@keyframes circle-chart-fill {
  to { stroke-dasharray: 0 100; }
}

@keyframes circle-chart-appear {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Layout styles only, not needed for functionality */
html {
/*  font-family: sans-serif;*/
/*  padding-right: 1em;*/
/*  padding-left: 1em;*/
}

.grid {
/*  display: grid;*/
/*  grid-column-gap: 1em;*/
/*  grid-row-gap: 1em;*/
/*  grid-template-columns: repeat(1, 1fr);*/
}

@media (min-width: 31em) {
  .grid {
/*    grid-template-columns: repeat(2, 1fr);*/
  }
}
.cycling-bar{
  display: flex;
  flex-flow:row;
  align-items: center;
  justify-content: center;
}
.cycling-set{
  width: 50%;
  max-width: 350px;
  padding: 0 20px;
  display: flex;
  flex-flow: column;
  align-items: center;
  justify-content: center;
}
.cycling-set>p{
  color: #5F6871;
  font-size: 16px;
  text-align: center;
}
.single-cycle{
  position: relative;
  width: 100%;
  display: flex;
  flex-flow: column;
  align-items: center;
  justify-content: center;
  padding: 10px 0;
}
@media (max-width:680px) {
  .cycling-bar{
    flex-flow: column;
  }
  .cycling-tittle{
    max-width: 90%;
  }
}
</style>
<div class="cycling-section">
   <div class="obi-of-section cycling-tittle">
    <h2>絕大多數的醫療經營者都想要透過數位轉型來提升患者體驗 </h2>
    <p>根據 Deloitte Insight 調查結果，有高達 92% 受訪者指出，希望透過數位轉型來提高患者的互動與滿意度，其次才是提高護理品質（56%）</p>
  </div>

  <div class="grid cycling-bar digit2">
    <!-- 單個 -->
    <div class="cycling-set cycling-show">
    <div class="single-cycle">
      <!-- <h2>Positive chart value</h2> -->
      <svg class="circle-chart" viewbox="0 0 33.83098862 33.83098862" width="241" height="241" xmlns="http://www.w3.org/2000/svg">
        <circle class="circle-chart__background" stroke="#efefef" stroke-width="5" fill="none" cx="16.91549431" cy="16.91549431" r="12.91549431" />
        <circle class="circle-chart__circle" stroke="#58B805" stroke-width="5" stroke-dasharray="70,100" stroke-linecap="round" fill="none" cx="16.91549431" cy="16.91549431" r="12.91549431" />
        <div class="circle-chart__info">
          <img src="https://1864133.fs1.hubspotusercontent-na1.net/hubfs/1864133/EVOXImages/Official_WEB/Industry/clinic/cycling-asset/cycle-cover-top.png" alt="cycling-bg">
          <text class="circle-chart__percent " x="16.91549431" y="16.5" alignment-baseline="central" text-anchor="middle"  font-size="8"><p class="count">92</p><p>%</p></text>
          <!-- <text class="circle-chart__subline" x="16.91549431" y="20.5" alignment-baseline="central" text-anchor="middle" font-size="2">Yay 30% progress!</text> -->
        </div>
      </svg>
      
    </div>
    <p>現今投入最多數位投資的領域也是在提高患者的體驗與互動。 </p>
  </div>
    <!-- 單個 -->
    <div class="cycling-set cycling-show">
    <div class="single-cycle">
      <!-- <h2>Negative chart value</h2> -->
      <svg class="circle-chart" viewbox="0 0 33.83098862 33.83098862" width="241" height="241" xmlns="http://www.w3.org/2000/svg">
        <circle class="circle-chart__background" stroke="#efefef" stroke-width="5" fill="none" cx="16.91549431" cy="16.91549431" r="12.91549431" />
        <circle class="circle-chart__circle circle-chart__circle--negative" stroke="#58B805" stroke-width="5" stroke-dasharray="65,100" stroke-linecap="round" fill="none" cx="16.91549431" cy="16.91549431" r="12.91549431" />
        <div class="circle-chart__info">
          <img src="https://1864133.fs1.hubspotusercontent-na1.net/hubfs/1864133/EVOXImages/Official_WEB/Industry/clinic/cycling-asset/cycle-cover-top.png" alt="cycling-bg">
          <text class="circle-chart__percent " x="16.91549431" y="16.5" alignment-baseline="central" text-anchor="middle" font-size="8"><p class="count">88</p><p>%</p></text>
          <!-- <text class="circle-chart__subline" x="16.91549431" y="20.5" alignment-baseline="central" text-anchor="middle" font-size="2">Oh no :(</text> -->
        </div>
      </svg>
    </div>
    <p>患者的體驗旅程除了診療過程外，當然也涵蓋了醫療行為之前與之後的溝通過程。</p>
  </div>
  </div>

</div>


<script>
  // init controller
  var controller = new ScrollMagic.Controller();

  var revealElements = document.getElementsByClassName("circle-chart__circle");
 for (var i=0; i<revealElements.length; i++) { // create a scene for each element
      new ScrollMagic.Scene({
                triggerElement: revealElements[i], // y value not modified, so we can use element as trigger as well
                offset: 30,                        // start a little later
                triggerHook: 0.9,
              })
              .setClassToggle(revealElements[i], "cycling-anima") // add class toggle
              // .addIndicators({name: "digit21 " + (i+1) }) // add indicators (requires plugin)
              
              .addTo(controller);
    }
    // count
//     $('.count').each(function () {
//     $(this).prop('Counter',0).animate({
//         Counter: $(this).text()
//     }, {
//         duration: 4000,
//         easing: 'swing',
//         step: function (now) {
//             $(this).text(Math.ceil(now));
//         }
//     });
// });
</script> 